#include<stdio.h>
#include<stdlib.h>
#include<windows.h>
inti,j;
intmain_exit;
voidmenu();
structdate{
intmonth,day,year;
};
struct{
charname[60];
intacc_no,age;
charaddress[60];
charcitizenship[15];
doublephone;
characc_type[10];
floatamt;
structdatedob;
structdatedeposit;
structdatewithdraw;
}add,upd,check,rem,transaction;
floatinterest(floatt,floatamount,intrate)
{
floatSI;
SI=(rate*t*amount)/100.0;
return(SI);
}
voidfordelay(intj)
{ inti,k;
for(i=0;i<j;i++)
k=i;
}
voidnew_acc()
{
intchoice;
FILE*ptr;
ptr=fopen("record.dat","a+");
account_no:
system("cls");
printf("\t\t\t\xB2\xB2\xB2\ADDRECORD \xB2\xB2\xB2\xB2");
printf("\n\n\nEntertoday'sdate(mm/dd/yyyy):");
scanf("%d/%d/%d",&add.deposit.month,&add.deposit.day,&add.deposit.year);
printf("\nEntertheaccountnumber:");
scanf("%d",&check.acc_no);
while(fscanf(ptr,"%d %s %d/%d/%d %d %s %s %lf %s %f
%d/%d/%d\n",&add.acc_no,add.name,&add.dob.month,&add.dob.day,&add.dob.year,&add.ag
e,add.address,add.citizenship,&add.phone,add.acc_type,&add.amt,&add.deposit.month,&add.
deposit.day,&add.deposit.year)!=EOF)
{
if(check.acc_no==add.acc_no)
{printf("Accountno.alreadyinuse!");
fordelay(1000000000);
gotoaccount_no;
}
}
add.acc_no=check.acc_no;
printf("\nEnterthename:");
scanf("%s",add.name);
printf("\nEnterthedateofbirth(mm/dd/yyyy):");
scanf("%d/%d/%d",&add.dob.month,&add.dob.day,&add.dob.year);
printf("\nEntertheage:");
scanf("%d",&add.age);
printf("\nEntertheaddress:");
scanf("%s",add.address);
printf("\nEnterthecitizenshipnumber:");
scanf("%s",add.citizenship);
printf("\nEnterthephonenumber:");
scanf("%lf",&add.phone);
printf("\nEntertheamounttodeposit:$");
scanf("%f",&add.amt);
printf("\nTypeofaccount:\n\t#Saving\n\t#Current\n\t#Fixed1(for1year)\n\t#Fixed2(for
2years)\n\t#Fixed3(for3years)\n\n\tEnteryourchoice:");
scanf("%s",add.acc_type);
fprintf(ptr,"%d %s %d/%d/%d %d %s %s %lf %s %f
%d/%d/%d\n",add.acc_no,add.name,add.dob.month,add.dob.day,add.dob.year,add.age,add.a
ddress,add.citizenship,add.phone,add.acc_type,add.amt,add.deposit.month,add.deposit.day,a
dd.deposit.year);
fclose(ptr);
printf("\nAccountcreatedsuccessfully!");
add_invalid:
printf("\n\n\n\t\tEnter1togotothemainmenuand0toexit:");
scanf("%d",&main_exit);
system("cls");
if(main_exit==1)
menu();
elseif(main_exit==0)
close();
else
{
printf("\nInvalid!\a");
gotoadd_invalid;
}
}
voidview_list()
{
FILE*view;
view=fopen("record.dat","r");
inttest=0;
system("cls");
printf("\nACC.NO.\tNAME\t\t\tADDRESS\t\t\tPHONE\n");
while(fscanf(view,"%d %s %d/%d/%d %d %s %s %lf %s %f
%d/%d/%d",&add.acc_no,add.name,&add.dob.month,&add.dob.day,&add.dob.year,&add.age,
add.address,add.citizenship,&add.phone,add.acc_type,&add.amt,&add.deposit.month,&add.de
posit.day,&add.deposit.year)!=EOF)
{
printf("\n%6d\t
%10s\t\t\t%10s\t\t%.0lf",add.acc_no,add.name,add.address,add.phone);
test++;
}
fclose(view);
if(test==0)
{ system("cls");
printf("\nNORECORDS!!\n");}
view_list_invalid:
printf("\n\nEnter1togotothemainmenuand0toexit:");
scanf("%d",&main_exit);
system("cls");
if(main_exit==1)
menu();
elseif(main_exit==0)
close();
else
{
printf("\nInvalid!\a");
gotoview_list_invalid;
}
}
voidedit(void)
{
intchoice,test=0;
FILE*old,*newrec;
old=fopen("record.dat","r");
newrec=fopen("new.dat","w");
printf("\nEntertheaccountno.ofthecustomerwhoseinfoyouwanttochange:");
scanf("%d",&upd.acc_no);
while(fscanf(old,"%d %s %d/%d/%d %d %s %s %lf %s %f
%d/%d/%d",&add.acc_no,add.name,&add.dob.month,&add.dob.day,&add.dob.year,&add.age,
add.address,add.citizenship,&add.phone,add.acc_type,&add.amt,&add.deposit.month,&add.de
posit.day,&add.deposit.year)!=EOF)
{
if(add.acc_no==upd.acc_no)
{ test=1;
printf("\nWhich information do you want to
change?\n1.Address\n2.Phone\n\nEnteryourchoice(1foraddressand2forphone):");
scanf("%d",&choice);
system("cls");
if(choice==1)
{printf("Enterthenewaddress:");
scanf("%s",upd.address);
fprintf(newrec,"%d %s %d/%d/%d %d %s %s %lf %s %f
%d/%d/%d\n",add.acc_no,add.name,add.dob.month,add.dob.day,add.dob.year,add.age,upd.a
ddress,add.citizenship,add.phone,add.acc_type,add.amt,add.deposit.month,add.deposit.day,a
dd.deposit.year);
system("cls");
printf("Changessaved!");
}
elseif(choice==2)
{
printf("Enterthenewphonenumber:");
scanf("%lf",&upd.phone);
fprintf(newrec,"%d %s %d/%d/%d %d %s %s %lf %s %f
%d/%d/%d\n",add.acc_no,add.name,add.dob.month,add.dob.day,add.dob.year,add.age,add.a
ddress,add.citizenship,upd.phone,add.acc_type,add.amt,add.deposit.month,add.deposit.day,a
dd.deposit.year);
system("cls");
printf("Changessaved!");
}
}
else
fprintf(newrec,"%d %s %d/%d/%d %d %s %s %lf %s %f
%d/%d/%d\n",add.acc_no,add.name,add.dob.month,add.dob.day,add.dob.year,add.age,add.a
ddress,add.citizenship,add.phone,add.acc_type,add.amt,add.deposit.month,add.deposit.day,a
dd.deposit.year);
}
fclose(old);
fclose(newrec);
remove("record.dat");
rename("new.dat","record.dat");
if(test!=1)
{ system("cls");
printf("\nRecordnotfound!!\a\a\a");
edit_invalid:
printf("\nEnter0totryagain,1toreturntomainmenuand2toexit:");
scanf("%d",&main_exit);
system("cls");
if(main_exit==1)
menu();
elseif(main_exit==2)
close();
elseif(main_exit==0)
edit();
else
{printf("\nInvalid!\a");
gotoedit_invalid;}
}
else
{printf("\n\n\nEnter1togotothemainmenuand0toexit:");
scanf("%d",&main_exit);
system("cls");
if(main_exit==1)
menu();
else
close();
}
}
voidtransact(void)
{ intchoice,test=0;
FILE*old,*newrec;
old=fopen("record.dat","r");
newrec=fopen("new.dat","w");
printf("Entertheaccountno.ofthecustomer:");
scanf("%d",&transaction.acc_no);
while (fscanf(old,"%d %s %d/%d/%d %d %s %s %lf %s %f
%d/%d/%d",&add.acc_no,add.name,&add.dob.month,&add.dob.day,&add.dob.year,&add.age,
add.address,add.citizenship,&add.phone,add.acc_type,&add.amt,&add.deposit.month,&add.de
posit.day,&add.deposit.year)!=EOF)
{
if(add.acc_no==transaction.acc_no)
{ test=1;
if(strcmpi(add.acc_type,"fixed1")==0||strcmpi(add.acc_type,"fixed2")==0||strcmpi(add.acc_typ
e,"fixed3")==0)
{
printf("\a\a\a\n\nYOU CANNOT DEPOSIT OR WITHDRAW CASH IN
FIXEDACCOUNTS!!!!!");
fordelay(1000000000);
system("cls");
menu();
}
printf("\n\nDo you want to\n1.Deposit\n2.Withdraw?\n\nEnter your
choice(1fordepositand2forwithdraw):");
scanf("%d",&choice);
if(choice==1)
{
printf("Entertheamountyouwanttodeposit:$");
scanf("%f",&transaction.amt);
add.amt+=transaction.amt;
fprintf(newrec,"%d %s %d/%d/%d %d %s %s %lf %s %f
%d/%d/%d\n",add.acc_no,add.name,add.dob.month,add.dob.day,add.dob.year,add.age,add.a
ddress,add.citizenship,add.phone,add.acc_type,add.amt,add.deposit.month,add.deposit.day,a
dd.deposit.year);
printf("\n\nDepositedsuccessfully!");
}
else
{
printf("Entertheamountyouwanttowithdraw:$");
scanf("%f",&transaction.amt);
add.amt-=transaction.amt;
fprintf(newrec,"%d %s %d/%d/%d %d %s %s %lf %s %f
%d/%d/%d\n",add.acc_no,add.name,add.dob.month,add.dob.day,add.dob.year,add.age,add.a
ddress,add.citizenship,add.phone,add.acc_type,add.amt,add.deposit.month,add.deposit.day,a
dd.deposit.year);
printf("\n\nWithdrawnsuccessfully!");
}
}
else
{
fprintf(newrec,"%d %s %d/%d/%d %d %s %s %lf %s %f
%d/%d/%d\n",add.acc_no,add.name,add.dob.month,add.dob.day,add.dob.year,add.age,add.a
ddress,add.citizenship,add.phone,add.acc_type,add.amt,add.deposit.month,add.deposit.day,a
dd.deposit.year);
}
}
fclose(old);
fclose(newrec);
remove("record.dat");
rename("new.dat","record.dat");
if(test!=1)
{
printf("\n\nRecordnotfound!!");
transact_invalid:
printf("\n\n\nEnter0totryagain,1toreturntomainmenuand2toexit:");
scanf("%d",&main_exit);
system("cls");
if(main_exit==0)
transact();
elseif(main_exit==1)
menu();
elseif(main_exit==2)
close();
else
{
printf("\nInvalid!");
gototransact_invalid;
}
}
else
{
printf("\nEnter1togotothemainmenuand0toexit:");
scanf("%d",&main_exit);
system("cls");
if(main_exit==1)
menu();
else
close();
}
}
voiderase(void)
{
FILE*old,*newrec;
inttest=0;
old=fopen("record.dat","r");
newrec=fopen("new.dat","w");
printf("Entertheaccountno.ofthecustomeryouwanttodelete:");
scanf("%d",&rem.acc_no);
while (fscanf(old,"%d %s %d/%d/%d %d %s %s %lf %s %f
%d/%d/%d",&add.acc_no,add.name,&add.dob.month,&add.dob.day,&add.dob.year,&add.age,
add.address,add.citizenship,&add.phone,add.acc_type,&add.amt,&add.deposit.month,&add.de
posit.day,&add.deposit.year)!=EOF)
{
if(add.acc_no!=rem.acc_no)
fprintf(newrec,"%d %s %d/%d/%d %d %s %s %lf %s %f
%d/%d/%d\n",add.acc_no,add.name,add.dob.month,add.dob.day,add.dob.year,add.age,add.a
ddress,add.citizenship,add.phone,add.acc_type,add.amt,add.deposit.month,add.deposit.day,a
dd.deposit.year);
else
{test++;
printf("\nRecorddeletedsuccessfully!\n");
}
}
fclose(old);
fclose(newrec);
remove("record.dat");
rename("new.dat","record.dat");
if(test==0)
{
printf("\nRecordnotfound!!\a\a\a");
erase_invalid:
printf("\nEnter0totryagain,1toreturntomainmenuand2toexit:");
scanf("%d",&main_exit);
if(main_exit==1)
menu();
elseif(main_exit==2)
close();
elseif(main_exit==0)
erase();
else
{printf("\nInvalid!\a");
gotoerase_invalid;}
}
else
{printf("\nEnter1togotothemainmenuand0toexit:");
scanf("%d",&main_exit);
system("cls");
if(main_exit==1)
menu();
else
close();
}
}
voidsee(void)
{
FILE*ptr;
inttest=0,rate;
intchoice;
floattime;
floatintrst;
ptr=fopen("record.dat","r");
printf("Doyouwanttocheckby\n1.Accountno\n2.Name\nEnteryourchoice:");
scanf("%d",&choice);
if(choice==1)
{ printf("Entertheaccountnumber:");
scanf("%d",&check.acc_no);
while (fscanf(ptr,"%d %s %d/%d/%d %d %s %s %lf %s %f
%d/%d/%d",&add.acc_no,add.name,&add.dob.month,&add.dob.day,&add.dob.year,&add.age,
add.address,add.citizenship,&add.phone,add.acc_type,&add.amt,&add.deposit.month,&add.de
posit.day,&add.deposit.year)!=EOF)
{
if(add.acc_no==check.acc_no)
{ system("cls");
test=1;
printf("\nAccount NO.:%d\nName:%s \nDOB:%d/%d/%d \nAge:%d
\nAddress:%s\nCitizenshipNo:%s\nPhonenumber:%.0lf\nTypeOfAccount:%s\nAmount
deposited:$ %.2f \nDate Of
Deposit:%d/%d/%d\n\n",add.acc_no,add.name,add.dob.month,add.dob.day,add.dob.year,add.
age,add.address,add.citizenship,add.phone,
add.acc_type,add.amt,add.deposit.month,add.deposit.day,add.deposit.year);
if(strcmpi(add.acc_type,"fixed1")==0)
{
time=1.0;
rate=9;
intrst=interest(time,add.amt,rate);
printf("\n\nYou will get $%.2f as interest on
%d/%d/%d",intrst,add.deposit.month,add.deposit.day,add.deposit.year+1);
}
elseif(strcmpi(add.acc_type,"fixed2")==0)
{
time=2.0;
rate=11;
intrst=interest(time,add.amt,rate);
printf("\n\nYou will get $.%.2f as interest on
%d/%d/%d",intrst,add.deposit.month,add.deposit.day,add.deposit.year+2);
}
elseif(strcmpi(add.acc_type,"fixed3")==0)
{
time=3.0;
rate=13;
intrst=interest(time,add.amt,rate);
printf("\n\nYou will get $.%.2f as interest on
%d/%d/%d",intrst,add.deposit.month,add.deposit.day,add.deposit.year+3);
}
elseif(strcmpi(add.acc_type,"saving")==0)
{
time=(1.0/12.0);
rate=8;
intrst=interest(time,add.amt,rate);
printf("\n\nYou willget$.%.2fas intereston %d ofevery
month",intrst,add.deposit.day);
}
elseif(strcmpi(add.acc_type,"current")==0)
{
printf("\n\nYouwillgetnointerest\a\a");
}
}
}
}
elseif(choice==2)
{ printf("Enterthename:");
scanf("%s",&check.name);
while (fscanf(ptr,"%d %s %d/%d/%d %d %s %s %lf %s %f
%d/%d/%d",&add.acc_no,add.name,&add.dob.month,&add.dob.day,&add.dob.year,&add.age,
add.address,add.citizenship,&add.phone,add.acc_type,&add.amt,&add.deposit.month,&add.de
posit.day,&add.deposit.year)!=EOF)
{
if(strcmpi(add.name,check.name)==0)
{ system("cls");
test=1;
printf("\nAccount No.:%d\nName:%s \nDOB:%d/%d/%d \nAge:%d
\nAddress:%s\nCitizenshipNo:%s\nPhonenumber:%.0lf\nTypeOfAccount:%s\nAmount
deposited:$%.2f \nDate Of
Deposit:%d/%d/%d\n\n",add.acc_no,add.name,add.dob.month,add.dob.day,add.dob.year,add.
age,add.address,add.citizenship,add.phone,
add.acc_type,add.amt,add.deposit.month,add.deposit.day,add.deposit.year);
if(strcmpi(add.acc_type,"fixed1")==0)
{
time=1.0;
rate=9;
intrst=interest(time,add.amt,rate);
printf("\n\nYou will get $.%.2f as interest on
%d/%d/%d",intrst,add.deposit.month,add.deposit.day,add.deposit.year+1);
}
elseif(strcmpi(add.acc_type,"fixed2")==0)
{
time=2.0;
rate=11;
intrst=interest(time,add.amt,rate);
printf("\n\nYou will get $.%.2f as interest on
%d/%d/%d",intrst,add.deposit.month,add.deposit.day,add.deposit.year+2);
}
elseif(strcmpi(add.acc_type,"fixed3")==0)
{
time=3.0;
rate=13;
intrst=interest(time,add.amt,rate);
printf("\n\nYou will get $.%.2f as interest on
%d/%d/%d",intrst,add.deposit.month,add.deposit.day,add.deposit.year+3);
}
elseif(strcmpi(add.acc_type,"saving")==0)
{
time=(1.0/12.0);
rate=8;
intrst=interest(time,add.amt,rate);
printf("\n\nYou willget$.%.2fas intereston %d ofevery
month",intrst,add.deposit.day);
}
elseif(strcmpi(add.acc_type,"current")==0)
{
printf("\n\nYouwillgetnointerest\a\a");
}
}
}
}
fclose(ptr);
if(test!=1)
{ system("cls");
printf("\nRecordnotfound!!\a\a\a");
see_invalid:
printf("\nEnter0totryagain,1toreturntomainmenuand2toexit:");
scanf("%d",&main_exit);
system("cls");
if(main_exit==1)
menu();
elseif(main_exit==2)
close();
elseif(main_exit==0)
see();
else
{
system("cls");
printf("\nInvalid!\a");
gotosee_invalid;}
}
else
{printf("\nEnter1togotothemainmenuand0toexit:");
scanf("%d",&main_exit);}
if(main_exit==1)
{
system("cls");
menu();
}
else
{
system("cls");
close();
}
}
voidclose(void)
{
printf("\n\n\n\nThisCMiniProjectisdevelopedbyCodeWithCteam!");
}
voidmenu(void)
{ intchoice;
system("cls");
system("color9");
printf("\n\n\t\t\tCUSTOMERACCOUNTBANKINGMANAGEMENTSYSTEM");
printf("\n\n\n\t\t\t\xB2\xB2\xB2\xB2\xB2\xB2\xB2 WELCOME TO THE MAIN MENU
\xB2\xB2\xB2\xB2\xB2\xB2\xB2");
printf("\n\n\t\t1.Create new account\n\t\t2.Update information of existing
account\n\t\t3.Fortransactions\n\t\t4.Checkthedetailsofexistingaccount\n\t\t5.Removing
existingaccount\n\t\t6.Viewcustomer'slist\n\t\t7.Exit\n\n\n\n\n\t\tEnteryourchoice:");
scanf("%d",&choice);
system("cls");
switch(choice)
{
case1:new_acc();
break;
case2:edit();
break;
case3:transact();
break;
case4:see();
break;
case5:erase();
break;
case6:view_list();
break;
case7:close();
break;
}
}
intmain()
{
charpass[10],password[10]="codewithc";
inti=0;
printf("\n\n\t\tEnterthepasswordtologin:");
scanf("%s",pass);
/*do
{
//if(pass[i]!=13&&pass[i]!=8)
{
printf("*");
pass[i]=getch();
i++;
}
}while(pass[i]!=13);
pass[10]='\0';*/
if(strcmp(pass,password)==0)
{printf("\n\nPasswordMatch!\nLOADING");
for(i=0;i<=6;i++)
{
fordelay(100000000);
printf(".");
}
system("cls");
menu();
}
else
{ printf("\n\nWrongpassword!!\a\a\a");
login_try:
printf("\nEnter1totryagainand0toexit:");
scanf("%d",&main_exit);
if(main_exit==1)
{
system("cls");
main();
}
elseif(main_exit==0)
{
system("cls");
close();}
else
{printf("\nInvalid!");
fordelay(1000000000);
system("cls");
gotologin_try;}
}
